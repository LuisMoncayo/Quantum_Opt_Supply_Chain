library(readxl)
library(ggplot2)
library(tidyr)


folder_path <- "/home/luismoncayo/Downloads/Balancing_QUBO/Outputs_Balancing/Summary"  # Replace with the actual folder path
files <- list.files(path = folder_path, pattern = "\\.xlsx$", full.names = TRUE)

data_list <- lapply(files, read_excel)


# Assume data_list contains multiple data frames
df_combined <- data.frame(matrix(ncol = length(data_list), nrow = nrow(data_list[[1]])))

# Extract a specific column (e.g., "Value") from each data frame
for (i in seq_along(data_list)) {
  df_combined[[i]] <- data_list[[i]]$Nu_Opt_Sol  # Change "Value" to the desired column name
}

# Rename columns based on file names (optional)
colnames(df_combined) <- basename(files)  # files = list of file paths

# View the final data frame
#head(df_combined)

df_long <- pivot_longer(df_combined, cols = everything(), names_to = "Experiment", values_to = "Nu_Opt_Sol")


ggplot(df_long, aes(x = Experiment, y = Nu_Opt_Sol, fill = Experiment)) +
  geom_boxplot(width = 0.2, alpha = 0.7) +
  geom_jitter(shape = 16, position = position_jitter(0.2), alpha = 0.5) +
  theme_minimal() +
  labs(title = "Box Plot with Jittered Points")


################################################################################

# Extract a specific column (e.g., "Value") from each data frame
for (i in seq_along(data_list)) {
  df_combined[[i]] <- data_list[[i]]$CPU_Time  # Change "Value" to the desired column name
}

# Rename columns based on file names (optional)
colnames(df_combined) <- basename(files)  # files = list of file paths

# View the final data frame
#head(df_combined)

df_long <- pivot_longer(df_combined, cols = everything(), names_to = "Experiment", values_to = "CPU_Time")


ggplot(df_long, aes(x = Experiment, y = CPU_Time, fill = Experiment)) +
  geom_boxplot(width = 0.2, alpha = 0.7) +
  geom_jitter(shape = 16, position = position_jitter(0.2), alpha = 0.5) +
  theme_minimal() +
  labs(title = "Box Plot with Jittered Points")